`WHERE`
- Применяется **до агрегации** (`GROUP BY`, `SUM()`, `COUNT()` и т.п.).
- Фильтрует строки на входе в группировку.
- В `WHERE` **нельзя** использовать агрегатные функции.
```
-- Возьмём только пользователей старше 30 лет, потом сгруппируем по стране
SELECT country, COUNT(*) FROM users 
WHERE age > 30 GROUP BY country;
```

`HAVING`
- Применяется **после агрегации**.
- Фильтрует уже сгруппированные результаты.
- В `HAVING` можно использовать агрегатные функции.
```
-- Считаем всех пользователей по странам, но показываем только страны, где их больше 100
SELECT country, COUNT(*) AS cnt FROM users 
GROUP BY country HAVING cnt > 100;
```

- Если условие относится к отдельной строке → `WHERE`.
- Если условие относится к результату агрегата/группы → `HAVING`.
