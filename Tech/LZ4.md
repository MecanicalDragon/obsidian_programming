**LZ4** — это сверхбыстрый алгоритм сжатия без потерь, ориентированный на скорость, а не на коэффициент сжатия. Сжимает обычно в 2-3 раза, но часто это быстрее, чем чтение несжатого файла с диска.

LZ4 основан на алгоритме ***LZ77*** (как и gzip), суть которого вместо того чтобы хранить повторяющиеся фрагменты данных заново, указывать что-то вроде *"Скопируй X байт из Y байт назад"*. То есть, он ищет повторы в потоке байт и кодирует их как ссылки.

`abcabcabc`
- Первый `abc` записывается как есть
- Второй и третий `abc` — заменяются на ссылку "назад на 3 байта, длина 3"

Почему это быстро?
1. **Никаких сложных операций** — просто бегаем по байтам и ищем повторы
2. Используется **hash-таблица** (или префикс-дерево) для быстрого поиска совпадений
3. Очень маленькое количество условных ветвлений в коде, что важно для CPU-кэша
4. Блоки обрабатываются **независимо**, можно делать многопоточную обработку

В итоге получается быстро, потому что алгоритм ищет только ближайшие повторы и не делает глубокий анализ, но неэффективно для "шумных" или неповторяющихся данных, и итоговое сжатие получается меньше, чем выдает gzip/zstd.
