**Регистр** — это ячейка процессора, которая хранит фиксированное количество бит: 8, 16, 32, 64. Каждый бит регистра хранится в *триггере* на транзисторах (*flip-flop*).

**Триггер** — это самая базовая электронная схема, которая может хранить один бит информации. Если собрать транзисторы в схему с обратной связью, можно заставить её “запоминать” состояние, даже когда вход меняется. Такое устройство и называется триггер (flip-flop). Простейший вариант (*SR latch*) строится на двух [[Logic Gates|инверторах]] (`NOT`), соединённых в кольцо:
```
      +-----[NOT]----+
      |              |
In -->+              +--> Out
      |              |
      +----[NOT]-----+
```
Выход первого идёт на вход второго, а выход второго — обратно на вход первого. Такая “петля” может зациклиться в двух состояниях:
    - `1 → 0 → 1 → 0 ...` (устойчивое хранение нуля)
    - `0 → 1 → 0 → 1 ...` (устойчивое хранение единицы)
Получается память на **1 бит**.

Каждый инвертор собран на двух транзисторах. Значит, триггер = 4 транзистора. Плюс ещё транзисторы для управления записью/считыванием (2–4 штуки). Итого **6–12 транзисторов на 1 бит**

Но *SR latch* — это только заготовка. Настоящие регистры используют **D-триггеры**, которые умеют удерживать логический 0 или 1, пока подаётся питание, и менять состояние синхронно с тактовым сигналом.
```
    Вход D
      |
      v
   +-----------------+          CLK (clock, тактовый сигнал)
   |Latch1.          |<--------+---
   | (откр. при 1)   |         |
   +-----------------+         |
      |      инвертор          |
	  v                        |
   +-----------------+         |
   |Latch2.          |<--------+
   | (откр. при 0)   |
   +-----------------+
      |
      v
    Выход Q
```
**D-триггер** - это две последовательные защёлки (**Latch1** и **Latch2**) в противофазе, управляемые тактовым сигналом:
- Когда `CLK = 1`, открыта первая защёлка (Latch1), вторая закрыта.
- Когда `CLK = 0`, открыта вторая защёлка (Latch2), первая закрыта.

Как это работает пошагово:
1. **CLK = 1**
    - Latch1 открыт → данные с `D` проходят внутрь.
    - Latch2 закрыт → выход `Q` пока не меняется.
2. **CLK переключается в 0**
    - Latch1 закрывается → значение "замораживается".
    - Latch2 открывается → принимает значение с выхода Latch1 и выдаёт его на `Q`.
3. **CLK снова в 1**
    - Latch2 закрыт (держит прежнее значение на `Q`).
    - Latch1 снова готов принимать новое `D`.
За счёт этого данные в триггере обновляются строго синхронно по фронту такта.

#cpu #register
