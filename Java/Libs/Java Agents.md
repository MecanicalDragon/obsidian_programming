Java agents are just a special type of classes which, by using the [Java Instrumentation API](https://www.baeldung.com/java-instrumentation), can intercept applications running on the JVM and modify their bytecode. *Instrumentation* is a technique used to change an existing application, adding code to it. You can do it both at *compiling time* and *runtime*. To achieve that we have two ways:

- Loading a Java agent at application startup is called ***static load***. Static load modifies the bytecode at startup time before any code is executed. (As soon as the JVM initializes, it calls the `premain` method of every agent). To use this way, we need to declare static `premain` method and `-javaagent` parameter at JVM startup: `java -javaagent:agent.jar -jar app.jar`
- Loading Java agent into already running JVM is called ***dynamic load***. This scenario is used when agents are called not at JVM initialization, but after it. The agent is attached using the [Java Attach API](https://docs.oracle.com/javase/8/docs/technotes/guides/attach/), and it requires a static `agentmain` method. To enable this type of instrumentation you need `-Djdk.attach.allowAttachSelf=true`.
