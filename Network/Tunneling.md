**Туннелирование** в сетях — это приём, когда один сетевой протокол упаковывается внутрь другого для передачи по пути, где напрямую он пройти не может.

Суть в том, что исходный пакет (например, IPv6) оборачивается в новый заголовок (например, IPv4) и отправляется по сети, которая понимает только IPv4. На другой стороне «туннеля» этот внешний заголовок снимается, и пакет продолжает путешествие в своём родном формате.

**Зачем это нужно**
1. **Совместимость** - например, [[IPv6]] внутри [[IPv4]] ([[L3 Packet|Protocol 41]]). Это позволяло использовать IPv6 между двумя точками даже в старых IPv4-сетях.
2. **VPN (виртуальные частные сети)**. Трафик пользователя (IP-пакеты) упаковывается в защищённый «туннель» ([[GRE]], [[L2TP]], OpenVPN), и для провайдера это обычный IP-трафик.
3. **Соединение разных сетей**. Частные подсети могут быть связаны через интернет, инкапсулируя свои пакеты в публичные IP-заголовки.
4. **Обход ограничений** - например, протоколы, которые не проходят через [[NAT]] или фаервол, можно упаковать в TCP/UDP (так делает OpenVPN).

**Ограничения**
Туннель = лишний заголовок → уменьшается доступное место в пакете (*MTU*).

**MTU** (Maximum Transmission Unit) — это максимальный размер полезной нагрузки (в байтах), которую можно передать в одном кадре канального уровня, исключая L2 заголовки. Для *Ethernet* по умолчанию MTU = 1500 байт, но это [[Jumbo Frames|не жесткое ограничение]].
